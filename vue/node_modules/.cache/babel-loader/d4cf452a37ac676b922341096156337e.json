{"remainingRequest":"F:\\vuetest\\giteecode\\node_modules\\babel-loader\\lib\\index.js!F:\\vuetest\\giteecode\\src\\api\\common.js","dependencies":[{"path":"F:\\vuetest\\giteecode\\src\\api\\common.js","mtime":1703141842264},{"path":"F:\\vuetest\\giteecode\\babel.config.js","mtime":1703141842258},{"path":"F:\\vuetest\\giteecode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1703142396770},{"path":"F:\\vuetest\\giteecode\\node_modules\\babel-loader\\lib\\index.js","mtime":1703142397738}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKbGV0IHFzID0gcmVxdWlyZSgncXMnKTsKbGV0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTsKbGV0IHRyeXRpbWUgPSAzOwpmdW5jdGlvbiBsb2dpbihfdGhpcywgdXNlcm5hbWUsIHBhc3N3b3JkKSB7CiAgdmFyIHBhcmFtcyA9IHsKICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgIHBhc3N3b3JkOiBwYXNzd29yZAogIH07CiAgdmFyIGRhdGEgPSBxcy5zdHJpbmdpZnkocGFyYW1zKTsKICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9CYW5rVHJhbnNmZXIvbG9naW4/IiArIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgaWYgKHJlcy5kYXRhID09ICIiKSB7CiAgICAgIHRyeXRpbWUgLT0gMTsKICAgICAgaWYgKHRyeXRpbWUgPT0gMCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICIuLi9SZXR1cm5DYXJkIgogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAi5a+G56CB6ZSZ6K+v77yM6K+36YeN6K+V77yM5Ymp5L2Z5bCd6K+V5qyh5pWw77yaIiArIHRyeXRpbWUgKyAi5qyhIiwKICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgIHRyeXRpbWU6IDMKICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiYWRkVXNlciIsIHJlcy5kYXRhKTsgLy8g55m75b2V55qE55So5oi35L+h5oGv5pS+5YiwICRzdG9yZS5zdGF0ZSDnirbmgIHph4zpnaIKICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpOyAvLyBzZXNzaW9uU3RvcmFnZSDorrDlvZXnmbvlvZXkv6Hmga/vvIzkuIDml6blhbPpl63mtY/op4jlmajplIDmr4EKICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgcGF0aDogIi4uL09wZXJhdGlvblZpZXciCiAgICB9KTsgLy/ph43lrprlkJHliLBiaWxsCiAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRMb2dpbiIsICLpgIDlh7oiKTsKICAgIGdldE1vbmV5KHRoaXMpOwogICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXIiKSAhPSBudWxsKSB7CiAgICAgIHZhciByZWFsbmFtZSA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpKS5yZWFsbmFtZTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRVc2VyTmFtZSIsIHJlYWxuYW1lLnN1YnN0cihyZWFsbmFtZS5sZW5ndGggLSAyLCAyKSk7CiAgICB9CiAgfS5iaW5kKF90aGlzKSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICBtZXNzYWdlOiAi6K+36YeN6K+VIiwKICAgICAgdHlwZTogImVycm9yIgogICAgfSk7CiAgfSk7Cn0KZnVuY3Rpb24gZ2V0TW9uZXkoX3RoaXMpIHsKICB2YXIgcGFyYW1zID0gewogICAgaWQ6IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpKS5pZAogIH07CiAgdmFyIGRhdGEgPSBxcy5zdHJpbmdpZnkocGFyYW1zKTsKICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9CYW5rVHJhbnNmZXIvZ2V0TW9uZXk/IiArIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgic2V0TW9uZXkiLCByZXMuZGF0YSk7CiAgfS5iaW5kKF90aGlzKSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgfSk7Cn0KbW9kdWxlLmV4cG9ydHMgPSB7CiAgbG9naW4sCiAgZ2V0TW9uZXkKfTs="},{"version":3,"names":["qs","require","axios","trytime","login","_this","username","password","params","data","stringify","get","then","res","$router","push","path","$message","showClose","message","type","console","log","$store","commit","sessionStorage","setItem","JSON","getMoney","getItem","realname","parse","substr","length","bind","catch","error","id","module","exports"],"sources":["F:/vuetest/giteecode/src/api/common.js"],"sourcesContent":["let qs = require('qs');\r\nlet axios = require('axios');\r\nlet trytime = 3;\r\n\r\nfunction login(_this, username, password) {\r\n    var params = {\r\n        username: username,\r\n        password: password,\r\n    };\r\n    var data = qs.stringify(params);\r\n\r\n    axios\r\n        .get(\"http://localhost:8080/BankTransfer/login?\" + data)\r\n        .then(\r\n            function (res) {\r\n                if (res.data == \"\") {\r\n                    trytime -= 1;\r\n                    if(trytime == 0){\r\n                        this.$router.push({ path: \"../ReturnCard\" });\r\n                    }\r\n                    this.$message({\r\n                        showClose: true,\r\n                        message: \"密码错误，请重试，剩余尝试次数：\" + trytime + \"次\",\r\n                        type: \"error\",\r\n                        trytime: 3,\r\n                    });\r\n                    return;\r\n                }\r\n                console.log(res.data);\r\n                this.$store.commit(\"addUser\", res.data); // 登录的用户信息放到 $store.state 状态里面\r\n                sessionStorage.setItem(\"user\", JSON.stringify(res.data)); // sessionStorage 记录登录信息，一旦关闭浏览器销毁\r\n                this.$router.push({ path: \"../OperationView\" }); //重定向到bill\r\n                _this.$store.commit(\"setLogin\", \"退出\");\r\n                getMoney(this);\r\n                if (sessionStorage.getItem(\"user\") != null) {\r\n                    var realname = JSON.parse(sessionStorage.getItem(\"user\")).realname;\r\n                    this.$store.commit(\r\n                        \"setUserName\",\r\n                        realname.substr(realname.length - 2, 2)\r\n                    );\r\n                }\r\n            }.bind(_this)\r\n        )\r\n        .catch(function (error) {\r\n            console.log(error);\r\n            this.$message({\r\n                showClose: true,\r\n                message: \"请重试\",\r\n                type: \"error\",\r\n            });\r\n        });\r\n}\r\n\r\nfunction getMoney(_this) {\r\n    var params = {\r\n        id: JSON.parse(sessionStorage.getItem(\"user\")).id\r\n    };\r\n    var data = qs.stringify(params);\r\n    axios\r\n        .get(\"http://localhost:8080/BankTransfer/getMoney?\"+ data)\r\n        .then(\r\n            function (res) {\r\n                console.log(res.data);\r\n                _this.$store.commit(\"setMoney\", res.data);\r\n            }.bind(_this)\r\n        )\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n}\r\n\r\n\r\nmodule.exports = {\r\n    login,\r\n    getMoney\r\n}\r\n"],"mappings":"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"}]}